This is executable utility for Unix-like systems. Written under Ubuntu 16.04.

## Usage:

First clone this directory to project directory and ensure `CHANGELOG.md` and maybe `API_CHANGELOG.md` are in project root.

To build and install `stack setup; stack build choo-choo; stack install choo-choo` in `choo-choo/`.

Set up configuration file `./paths`

It will check changelog correctly if only all it's entries mention their PR or commits.
And it will infer version if only changes marked with modifiers "Major changes", "Minor changes", "Fixes" and "Docs".
`API_CHANGELOG.md` will be checked only if swagger file (or any other file : file changed <=> API changed) with version variable presents in `./paths`
Same if you want to bump API version.
For `.json` files in swaggerFileName assumed existence of string "<var>": "{{ version }}"
For `.Haskell` files - <var> = "<version>"

It can bump project version not only in `.cabal` files with no -p option. `.hs` and `.json` supported.


And then every time to run in call `stack exec choo-choo-exe` from root of repository.

Then text of autogenerated help with editions:

```
This script can check your changelogs and bump versions in project.
It's rigorous. Check will fail if any commit or pull request from git history is missed.
It assumes to be run in root directory of project and that changelog is here.
Project must be git repository.
You can specify these levels of changes: app, major, minor, fix, doc.
It can infer version from changelog.
But it will refuse to do it if it's not sure changelogs are up to date.

Usage: choo-choo-exe [-p|--packages PACKAGES] [-l|--level LEVEL] [-a|--api API]
                     [-c|--no-check] [-e|--from-bc] [-f|--force]

Available options:
  -h,--help                Show this help text
  -p,--packages PACKAGES   List of packages to bump.
  -l,--level LEVEL         Level of changes.
  -a,--api API             Level of changes in API.
  -c,--no-check            Do not check changelogs.
  -e,--from-bc             Check changelogs from start of project.
  -f,--force               Bump version even if changelogs are outdated. Cannot
                           be mixed with -c.
```
